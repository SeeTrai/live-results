<!DOCTYPE html> 
<html> 
	<head> 
	<title>Live Results</title>
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<link rel="stylesheet" href="/jquery.mobile.css" />
	<link rel="stylesheet" href="/style.css" />
	<script src="/jquery-1.7.1.js"></script>
	<script src="/jquery.mobile.js"></script>
    <script src="/script.js"></script>
    
</head> 
<body> 
    <div data-role="page" id="page-runs">
        <div data-role="header">
            <a href="/" data-ajax="false" data-icon="arrow-l" data-reverse="true">Home</a>
            <h1>Runs</h1>
            
        </div>
        <div data-role="content">
            <a href="#page-carnum" data-transition="slidedown" data-rel="dialog" data-role="button" data-theme="b">Add Next Car</a>
            <a href="#page-num" data-transition="slidedown" data-rel="dialog" data-role="button" data-theme="b">Add Next 2</a>
        </div>
        <div data-role="footer">
            
        </div>
    </div>
    <div data-role="page" id="page-carnum" data-rel="dialog" data-transition="slidedown">
        <div data-role="header"><h1>Enter Car Number</h1></div>
        <div data-role="content" style="margin-top:0;padding-top:0;">
            <p>
            <div><span class="big-num" id="carnum"></span>&nbsp;</div>
            </p>
            <div class="ui-grid-b">
	            <div class="ui-block-a big-num"><a href="#" id="n-1" data-role="button">1</a></div>
	            <div class="ui-block-b big-num"><a href="#" id="n-2" data-role="button">2</a></div>
	            <div class="ui-block-c big-num"><a href="#" id="n-3" data-role="button">3</a></div>
	            <div class="ui-block-a big-num"><a href="#" id="n-4" data-role="button">4</a></div>
	            <div class="ui-block-b big-num"><a href="#" id="n-5" data-role="button">5</a></div>
	            <div class="ui-block-c big-num"><a href="#" id="n-6" data-role="button">6</a></div>
	            <div class="ui-block-a big-num"><a href="#" id="n-7" data-role="button">7</a></div>
	            <div class="ui-block-b big-num"><a href="#" id="n-8" data-role="button">8</a></div>
	            <div class="ui-block-c big-num"><a href="#" id="n-9" data-role="button">9</a></div>
	            <div class="ui-block-a big-num"><a href="#" id="n-a" data-role="button">A</a></div>
	            <div class="ui-block-b big-num"><a href="#" id="n-0" data-role="button">0</a></div>
	            <div class="ui-block-c big-num"><a href="#" id="n-b" data-role="button">&lt;&lt;</a></div>
            </div>
        </div>

    </div>
    <div data-role="page" id="page-num" data-rel="dialog" data-transition="slidedown">
        
        <div data-role="content" style="margin-top:0;padding-top:0;">
            <div style="float:left;width:60px;">
                <div><a href="#" id="A1" class="nums" data-role="button">1</a></div>
                <div><a href="#" id="A2" class="nums" data-role="button">2</a></div>
                <div><a href="#" id="A3" class="nums" data-role="button">3</a></div>
                <div><a href="#" id="A4" class="nums" data-role="button">4</a></div>
                <div><a href="#" id="A5" class="nums" data-role="button">5</a></div>
                <div><a href="#" id="A6" class="nums" data-role="button">6</a></div>
                <div><a href="#" id="A7" class="nums" data-role="button">7</a></div>
                <div><a href="#" id="A8" class="nums" data-role="button">8</a></div>
                <div><a href="#" id="A9" class="nums" data-role="button">9</a></div>
                <div><a href="#" id="A0" class="nums" data-role="button">0</a></div>
            </div>
            <ul data-role="listview" style="margin-left:70px;" id="dlist" data-inset="true">
                
            </ul>
        </div>

    </div>


    <script type="text/javascript">

        var drivers = [{ "name": "Jon Pomrenke", "axclass": "STU", "best": 41.783, "bestpax": 35.139, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Subaru STI", "number": "192", "year": 0, "color": "White" }, "ranko": 1, "rankc": 1, "rankp": 1, "times": [] }, { "name": "Adam Zaharias", "axclass": "STU", "best": 42.825, "bestpax": 36.015, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Subaru WRX STi", "number": "79", "year": 0, "color": "Silver" }, "ranko": 2, "rankc": 1, "rankp": 2, "times": [] }, { "name": "Jason Kupka", "axclass": "TBS", "best": 44.091, "bestpax": 37.168, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Honda S2000 CR", "number": "10", "year": 0, "color": "black" }, "ranko": 3, "rankc": 1, "rankp": 5, "times": [] }, { "name": "Steve Hudson", "axclass": "TFS", "best": 44.887, "bestpax": 37.031, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "G35", "number": "42", "year": 0, "color": "White" }, "ranko": 4, "rankc": 1, "rankp": 4, "times": [] }, { "name": "Steve Putnam", "axclass": "TDS", "best": 44.939, "bestpax": 36.894, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Mazda Mazdaspeed3", "number": "25", "year": 0, "color": "True Red" }, "ranko": 5, "rankc": 1, "rankp": 3, "times": [] }, { "name": "John K Baker", "axclass": "TCS", "best": 45.235, "bestpax": 37.68, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Mazda Miata", "number": "65", "year": 0, "color": "Silver" }, "ranko": 6, "rankc": 1, "rankp": 7, "times": [] }, { "name": "Thomas Chilton", "axclass": "TGS", "best": 45.844, "bestpax": 37.317, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "VW GTI", "number": "18", "year": 0, "color": "Grey" }, "ranko": 7, "rankc": 1, "rankp": 6, "times": [] }, { "name": "Robert Irish", "axclass": "STU", "best": 46.212, "bestpax": 42.228, "runCount": 1, "dnfCount": 0, "cones": 4, "reruns": 0, "car": { "description": "Subaru", "number": "92", "year": 0, "color": "" }, "ranko": 9, "rankc": 1, "rankp": 16, "times": [] }, { "name": "Robert Irish", "axclass": "STU", "best": 46.212, "bestpax": 42.228, "runCount": 1, "dnfCount": 0, "cones": 4, "reruns": 0, "car": { "description": "Subaru", "number": "92", "year": 0, "color": "" }, "ranko": 9, "rankc": 1, "rankp": 16, "times": [] }, { "name": "Trey Warren", "axclass": "TBS", "best": 46.935, "bestpax": 39.566, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Honda s2000", "number": "54", "year": 0, "color": "Silver" }, "ranko": 10, "rankc": 1, "rankp": 9, "times": [] }, { "name": "Shawn Murphy", "axclass": "SM", "best": 47.104, "bestpax": 41.658, "runCount": 1, "dnfCount": 0, "cones": 1, "reruns": 0, "car": { "description": "325is", "number": "44", "year": 0, "color": "Blk" }, "ranko": 11, "rankc": 1, "rankp": 13, "times": [] }, { "name": "Dan DiFeo", "axclass": "TDS", "best": 47.519, "bestpax": 39.013, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Mazdaspeed 3", "number": "373", "year": 0, "color": "Liquid Silver" }, "ranko": 12, "rankc": 1, "rankp": 8, "times": [] }, { "name": "Cecilia Balderrama", "axclass": "SM", "best": 47.556, "bestpax": 41.183, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Subaru STI", "number": "41", "year": 0, "color": "Silver" }, "ranko": 13, "rankc": 1, "rankp": 11, "times": [] }, { "name": "Stephen Balderrama", "axclass": "SM", "best": 47.783, "bestpax": 41.38, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Subaru STI", "number": "4", "year": 0, "color": "Silver" }, "ranko": 14, "rankc": 1, "rankp": 12, "times": [] }, { "name": "Edward Sparks", "axclass": "SM", "best": 48.649, "bestpax": 42.996, "runCount": 1, "dnfCount": 0, "cones": 1, "reruns": 0, "car": { "description": "Pontiac GTO", "number": "120", "year": 0, "color": "Phantom Black Metallic" }, "ranko": 15, "rankc": 1, "rankp": 19, "times": [] }, { "name": "Jason Anderson", "axclass": "SM", "best": 49.58, "bestpax": 42.936, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "", "number": "99", "year": 0, "color": "" }, "ranko": 16, "rankc": 1, "rankp": 17, "times": [] }, { "name": "David Thompson", "axclass": "HS", "best": 50.037, "bestpax": 39.979, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Scion TC", "number": "420", "year": 0, "color": "Charcoal" }, "ranko": 17, "rankc": 1, "rankp": 10, "times": [] }, { "name": "Dick Van Hooser", "axclass": "TCS", "best": 50.555, "bestpax": 42.112, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "Mazda Miata", "number": "1", "year": 0, "color": "Dickbilt Blue" }, "ranko": 18, "rankc": 1, "rankp": 14, "times": [] }, { "name": "Chris Palaganas", "axclass": "NHS", "best": 52.784, "bestpax": 42.973, "runCount": 1, "dnfCount": 0, "cones": 1, "reruns": 0, "car": { "description": "", "number": "117", "year": 0, "color": "" }, "ranko": 19, "rankc": 1, "rankp": 18, "times": [] }, { "name": "Jennifer Gooch", "axclass": "STU", "best": 55.289, "bestpax": 46.498, "runCount": 1, "dnfCount": 0, "cones": 0, "reruns": 0, "car": { "description": "2008 Evo 10", "number": "17", "year": 0, "color": "Blue" }, "ranko": 20, "rankc": 1, "rankp": 20, "times": []}];
        drivers.sort(function (a, b) {
            return a.car.number < b.car.number ? -1 : 1;
        });
        $(function () {
            $('.nums').bind('vclick',function () {
                var id = $(this).attr('id').substring(1), html=[];
                for (var i = 0; i < drivers.length; i++) {
                    var d = drivers[i];
                    if (d.car.number.substring(0, 1) == id) {
                        html.push('<li><a href="#">' + drivers[i].car.number + ' - ' + drivers[i].name + '</a></li>');
                    }
                }
                $('#dlist').html(html.join('')).listview('refresh');

            });

            $('.big-num > a').bind('vclick', function () {
                var orig = $('#carnum').text();
                var id = $(this).attr('id').split('-')[1];
                if (id == 'a') {

                } else if (id == 'b') {
                    $('#carnum').text(orig.substring(0, orig.length - 1));
                } else {
                    $('#carnum').text(orig + id);
                }
            });
            var html = [];
            for (var i = 0; i < drivers.length; i++) {
                html.push('<li><a href="#">' + drivers[i].car.number + ' - ' + drivers[i].name + '</a></li>');
            }
            $('#dlist').html(html.join('')).listview('refresh');


        });
        

        
</script>
</body>
</html>
